{"ast":null,"code":"/* \n  [00:00.000] 作曲 : 许嵩\n  [00:01.000] 作词 : 许嵩\n  [00:22.240]天空好想下雨\n  [00:24.380]我好想住你隔壁\n*/\nconst parseExp = /\\[([0-9]{2}):([0-9]{2})\\.([0-9]{2,3})\\]/;\nexport function parseLyric(lyrics) {\n  if (!lyrics) return;\n  const lineStrings = lyrics.split('\\n');\n  const lyricList = [];\n\n  for (const line of lineStrings) {\n    if (line) {\n      const result = parseExp.exec(line);\n      if (!result) continue;\n      const time1 = result[1] * 60 * 1000;\n      const time2 = result[2] * 1000;\n      const time3 = result[3].length > 2 ? result[3] * 1 : result[3] * 1000; // 当前歌曲播放的总时长(毫秒)\n\n      const totalTime = time1 + time2 + time3;\n      const content = line.replace(parseExp, '').trim();\n      const lineObj = {\n        totalTime,\n        content\n      };\n      lyricList.push(lineObj);\n    }\n  }\n\n  return lyricList;\n}","map":{"version":3,"sources":["/Users/jr/myWeb/React项目实战/music163_jr/src/utils/parse-lyric.js"],"names":["parseExp","parseLyric","lyrics","lineStrings","split","lyricList","line","result","exec","time1","time2","time3","length","totalTime","content","replace","trim","lineObj","push"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMA,QAAQ,GAAG,yCAAjB;AACA,OAAO,SAASC,UAAT,CAAoBC,MAApB,EAA4B;AACjC,MAAG,CAACA,MAAJ,EAAY;AACZ,QAAMC,WAAW,GAAGD,MAAM,CAACE,KAAP,CAAa,IAAb,CAApB;AACA,QAAMC,SAAS,GAAG,EAAlB;;AACA,OAAK,MAAMC,IAAX,IAAmBH,WAAnB,EAAgC;AAC9B,QAAIG,IAAJ,EAAU;AACR,YAAMC,MAAM,GAAGP,QAAQ,CAACQ,IAAT,CAAcF,IAAd,CAAf;AACA,UAAG,CAACC,MAAJ,EAAY;AACZ,YAAME,KAAK,GAAGF,MAAM,CAAC,CAAD,CAAN,GAAY,EAAZ,GAAiB,IAA/B;AACA,YAAMG,KAAK,GAAGH,MAAM,CAAC,CAAD,CAAN,GAAY,IAA1B;AACA,YAAMI,KAAK,GAAGJ,MAAM,CAAC,CAAD,CAAN,CAAUK,MAAV,GAAmB,CAAnB,GAAuBL,MAAM,CAAC,CAAD,CAAN,GAAY,CAAnC,GAAuCA,MAAM,CAAC,CAAD,CAAN,GAAY,IAAjE,CALQ,CAMR;;AACA,YAAMM,SAAS,GAAGJ,KAAK,GAAGC,KAAR,GAAgBC,KAAlC;AACA,YAAMG,OAAO,GAAGR,IAAI,CAACS,OAAL,CAAaf,QAAb,EAAuB,EAAvB,EAA2BgB,IAA3B,EAAhB;AACA,YAAMC,OAAO,GAAG;AAACJ,QAAAA,SAAD;AAAYC,QAAAA;AAAZ,OAAhB;AACAT,MAAAA,SAAS,CAACa,IAAV,CAAeD,OAAf;AACD;AACF;;AACD,SAAOZ,SAAP;AACD","sourcesContent":["/* \n  [00:00.000] 作曲 : 许嵩\n  [00:01.000] 作词 : 许嵩\n  [00:22.240]天空好想下雨\n  [00:24.380]我好想住你隔壁\n*/\nconst parseExp = /\\[([0-9]{2}):([0-9]{2})\\.([0-9]{2,3})\\]/\nexport function parseLyric(lyrics) {\n  if(!lyrics) return\n  const lineStrings = lyrics.split('\\n')\n  const lyricList = []\n  for (const line of lineStrings) {\n    if (line) {\n      const result = parseExp.exec(line)\n      if(!result) continue\n      const time1 = result[1] * 60 * 1000\n      const time2 = result[2] * 1000\n      const time3 = result[3].length > 2 ? result[3] * 1 : result[3] * 1000\n      // 当前歌曲播放的总时长(毫秒)\n      const totalTime = time1 + time2 + time3\n      const content = line.replace(parseExp, '').trim()\n      const lineObj = {totalTime, content};\n      lyricList.push(lineObj)\n    }\n  }\n  return lyricList\n}\n\n"]},"metadata":{},"sourceType":"module"}